
# "薬価基準収載医薬品コードにもとづく医薬品名の加工処理"
## date: 2023-08-28 

## はじめに

薬価基準収載医薬品コードは、医薬品を成分名・規格などを用いて分類する
ためのものである。厚労省が、定期的にコードを更新しているが、それらの
コードは統一されておらず、一部加工が必要である。そこで、今回は、
薬価基準収載医薬品コードを加工し、統一化されたコードを作成
する。また、加工を行う必要のある変数は複数存在するが、
今回は、その中で「品名」のみを扱う。

## 各ファイルについて

### data
 今回扱うデータは、観測数60241、変数の数は7である。
 変数は、「区分」「薬価基準収載医薬品コード」「成分名」「規格」「品名」「メーカー名」「年度」である。
 公開情報の取得・データの連結に関しては、https://github.com/kkirino/mhlw_code

### script
scriptには、「main.R」「function.R」「test.R」がある。「main.R」は、データと以下のRファイルの読み込みを行う。
そのため、このファイルを実行すれば、加工すべき変数の加工を行い、その加工に関するテストの結果が出力される。
「function.R」は、二つの関数がある。一つ目は、condition関数で、加工するデータの
パターンを特定し、加工すべきか否かを識別する関数である。二つ目は、engineer関数で、加工が必要と判断されたものに対し、加工を行なう関数である。
「test.R」は、加工処理が問題なく行われたのかをテストするコードである。

### document
documentには、「condition.Rmd」「engineer.Rmd」がある。
「condition.Rmd」は、加工を必要とするデータのパターンをどのように見つけたのか、そのプロセスを記した。
パターン特定後、実際加工が行われるが、その加工精度の検証方法も記してある。
「engineer.Rmd」は、適切に加工を行う関数をどのようにして見つけ出したのか、そのプロセスを記した。
両ファイルとも、文書と共にスクリプトも載せてある。
